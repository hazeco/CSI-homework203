<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            background: #fff;
        }
        
        .chat-container {
            background: linear-gradient(180deg, #fafafa 0%, #fff 100%);
        }
        
        .message-bubble {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .own-message {
            background: linear-gradient(135deg, #0084ff 0%, #0073e6 100%);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .other-message {
            background: #e4e6eb;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
        }
        
        .chat-input {
            background: #fff;
            border: 1px solid #e5e5e5;
            transition: all 0.2s ease;
        }
        
        .chat-input:focus {
            border-color: #0084ff;
            box-shadow: 0 0 0 2px rgba(0, 132, 255, 0.1);
        }
        
        .send-btn {
            background: linear-gradient(135deg, #0084ff 0%, #0073e6 100%);
            transition: all 0.2s ease;
        }
        
        .send-btn:hover {
            box-shadow: 0 4px 12px rgba(0, 132, 255, 0.4);
            transform: translateY(-2px);
        }
        
        .send-btn:active {
            transform: translateY(0);
        }
        
        .header-line {
            background: linear-gradient(90deg, #f0f0f0 0%, transparent 100%);
            height: 1px;
        }
    </style>
</head>
<body>
    <div class="w-full h-screen flex flex-col bg-white">
        <!-- Header -->
        <div class="bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-10">
            <div class="flex items-center justify-between mb-3">
                <div>
                    <h1 class="text-2xl font-bold text-black">Chat</h1>
                </div>
                <div class="flex gap-3">
                    <button class="p-2 hover:bg-gray-100 rounded-full transition">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Client ID Status -->
            <div class="flex items-center gap-3 bg-gray-50 rounded-full px-4 py-2 w-fit">
                <div class="w-2 h-2 rounded-full" id="statusDot"></div>
                <span class="text-sm font-medium text-gray-700">
                    <span id="myClientId" class="text-blue-600 font-bold">Client ?</span>
                    <span id="status" class="text-gray-500 ml-2">Connecting...</span>
                </span>
            </div>
        </div>

        <!-- Chat Box -->
        <div class="flex-1 overflow-y-auto px-4 py-4 space-y-3 chat-container" id="chatBox"></div>

        <!-- Input Section -->
        <div class="bg-white border-t border-gray-200 px-4 py-4 flex gap-3 items-end">
            <div class="flex-1 flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2">
                <input 
                    type="text" 
                    id="message" 
                    placeholder="Aa" 
                    autofocus
                    class="flex-1 bg-transparent outline-none text-gray-900 placeholder-gray-500"
                >
                <button class="p-1 hover:bg-gray-200 rounded-full transition">
                    <svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path>
                    </svg>
                </button>
            </div>
            <button 
                id="sendBtn"
                class="p-3 send-btn text-white rounded-full flex items-center justify-center shadow-lg"
            >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.9429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.837654326,3.0486314 1.15159189,3.99721575 L3.03521743,10.4382088 C3.03521743,10.5953061 3.34915502,10.7524035 3.50612381,10.7524035 L16.6915026,11.5378905 C16.6915026,11.5378905 17.1624089,11.5378905 17.1624089,12.0091827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z"></path>
                </svg>
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>